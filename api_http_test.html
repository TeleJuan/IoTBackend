<!DOCTYPE html>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
var headerss = new Headers();


//  NOTA: algo que puede servir 
//      https://jesse.sh/crud-fetch/


$(document).ready(function(){
  // se utiliza jquery para detectar el click del boton con el id getbutton
  $("#getbutton").click(function(){
    console.log("haciendo get")
    // se hace el fetch a la url
    fetch("http://192.168.0.20:8080/test", {
        // se escoge el metodo de la peticion
        method: "GET",
        //el cors permite hacer requests entre sitios
        mode: 'cors'    
    // la respuesta se convierte en un json
    }).then(res => res.json()
    // aqui se hace algo con la respuesta
    .then(function(data) {
    console.log(data)
    }));
  });
});

$(document).ready(function(){
  $("#postbutton").click(function(){
    console.log("haciendo post")
    // se genera el mensaje que se mandara en el post, de preferencia json
    // los valores se pueden sacar de los elementos del DOM con jquery
    // https://www.w3schools.com/jquery/
    postMessage = {
      name: "Donald Duck",
      city: "Duckburg"
    };
    fetch("http://192.168.0.20:8080/test", {
        method: "POST",
        // se convierte el json en un string
        body: JSON.stringify(postMessage),
        //el cors permite hacer requests entre sitios
        mode: 'cors'    
      }).then(res => res.json()
    .then(function(data) {
    console.log(data)
    }));
  });
});

</script>
</head>
<body>

<button id="postbutton">probar post</button>
<button id="getbutton">probar get</button>
</body>
</html>
